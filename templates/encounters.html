{% extends "layout.html" %}

{% block title %}
    Log In
{% endblock %}

{% block main %}
  <div class="d-flex justify-content-flex-start">
    <div class="shifted-left">
      <h3> patient: {{patient_fullname}}</h3>
      <h3 id="patient_id_header"> id: {{patient_id}}</h3>
    </div>
  </div>
  <h2> Encounter </h2>

    <div class="d-flex justify-content-center">
      <form action="/encounters" method="post" id="encounters_form" class="patient_form">
         <div class="form-group">
            <input autocomplete="off" autofocus class="form-control" name="chief_complaint" placeholder="chief complaint" type="text" id="chief_complaint">
          </div>
         <div class="form-group">
            <textarea autocomplete="off" autofocus class="form-control" name="history_of_illness" placeholder="history of illness" type="text" id="history_of_illness"></textarea>
          </div>
         <div class="form-group">
           <textarea autocomplete="off" autofocus class="form-control" name="examination" placeholder="examination" type="text" id="examination"></textarea>
         </div>
         <div class="form-group">
           <textarea autocomplete="off" autofocus class="form-control" name="assessment_and_plan" placeholder="assessment and plan" type="text" id="assessment_and_plan"></textarea>
         </div>
         <button class="btn btn-primary client_form_button" type="submit" id="encounter_button">Submit</button>
      </form>
    </div>
    <div class="skip">
      <a href="" id="link_to_patient_page">Back</a>
    </div>

    <!-- Modal window warning -->
         <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#encounter_warning" id="modal_warning_encounter">
      Launch
    </button>

    <!-- Modal -->
    <div class="modal fade" id="encounter_warning" tabindex="-1" aria-labelledby="encounter_warning" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="encounter_warning_label">Warning</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <ul id="encounter_message"></ul>
          </div>
        </div>
      </div>
    </div>
    <!-- End -->
{% endblock %}


<!--

const passEncounterId = (event) => {
    if (event.target.tagName == "A") {
        console.log(event.target.parentNode.parentNode.parentNode.childNodes[1].textContent);
        encounter_id = event.target.parentNode.parentNode.parentNode.childNodes[1].textContent;
    }
}


-->